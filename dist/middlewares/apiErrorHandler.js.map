{"version":3,"file":"apiErrorHandler.js","sourceRoot":"","sources":["../../src/middlewares/apiErrorHandler.ts"],"names":[],"mappings":";;;;;AAGA,4DAAmC;AAEnC,mBACE,KAAe,EACf,GAAY,EACZ,GAAa,EACb,IAAkB;IAElB,IAAI,KAAK,CAAC,MAAM,EAAE;QAChB,gBAAM,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;KAC3B;IAED,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;QAChC,MAAM,EAAE,OAAO;QACf,UAAU,EAAE,KAAK,CAAC,UAAU;QAC5B,OAAO,EAAE,KAAK,CAAC,OAAO;KACvB,CAAC,CAAA;AACJ,CAAC;AAfD,4BAeC","sourcesContent":["import { Request, Response, NextFunction } from 'express'\n\nimport ApiError from '../helpers/apiError'\nimport logger from '../util/logger'\n\nexport default function (\n  error: ApiError,\n  req: Request,\n  res: Response,\n  next: NextFunction\n) {\n  if (error.source) {\n    logger.error(error.source)\n  }\n\n  res.status(error.statusCode).json({\n    status: 'error',\n    statusCode: error.statusCode,\n    message: error.message,\n  })\n}\n"]}