{"version":3,"file":"secrets.js","sourceRoot":"","sources":["../../src/util/secrets.ts"],"names":[],"mappings":";;;;;;AAAA,oDAA2B;AAC3B,4CAAmB;AAEnB,sDAA6B;AAE7B,IAAI,YAAE,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE;IACzB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;IACnB,gBAAM,CAAC,KAAK,CAAC,wDAAwD,CAAC,CAAA;IACtE,gBAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAA;CAChC;KAAM;IACL,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;IACpB,gBAAM,CAAC,KAAK,CAAC,gEAAgE,CAAC,CAAA;IAC9E,gBAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,CAAC,CAAA,CAAC,2CAA2C;CACpF;AAEY,QAAA,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAA;AAC/C,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,mBAAW,CAAC,CAAA;AACxC,MAAM,IAAI,GAAG,mBAAW,KAAK,YAAY,CAAA,CAAC,oCAAoC;AAEjE,QAAA,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAW,CAAA;AAChD,QAAA,WAAW,GAAG,CACzB,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CACrD,CAAA;AAEX,IAAI,CAAC,kBAAU,EAAE;IACf,gBAAM,CAAC,KAAK,CAAC,wDAAwD,CAAC,CAAA;IACtE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;CAChB;AAED,IAAI,CAAC,mBAAW,EAAE;IAChB,IAAI,IAAI,EAAE;QACR,gBAAM,CAAC,KAAK,CACV,mEAAmE,CACpE,CAAA;KACF;SAAM;QACL,gBAAM,CAAC,KAAK,CACV,yEAAyE,CAC1E,CAAA;KACF;IACD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;CAChB","sourcesContent":["import dotenv from 'dotenv'\nimport fs from 'fs'\n\nimport logger from './logger'\n\nif (fs.existsSync('.env')) {\n  console.log('true')\n  logger.debug('Using .env file to supply config environment variables')\n  dotenv.config({ path: '.env' })\n} else {\n  console.log('false')\n  logger.debug('Using .env.example file to supply config environment variables')\n  dotenv.config({ path: '.env.example' }) // delete this after you create  .env file!\n}\n\nexport const ENVIRONMENT = process.env.NODE_ENV\nconsole.log('environment:', ENVIRONMENT)\nconst prod = ENVIRONMENT === 'production' // Anything else is treated as 'dev'\n\nexport const JWT_SECRET = process.env['JWT_SECRET'] as string\nexport const MONGODB_URI = (\n  prod ? process.env['MONGODB_URI'] : process.env['MONGODB_URI']\n) as string\n\nif (!JWT_SECRET) {\n  logger.error('No client secret. Set JWT_SECRET environment variable.')\n  process.exit(1)\n}\n\nif (!MONGODB_URI) {\n  if (prod) {\n    logger.error(\n      'No mongo connection string. Set MONGODB_URI environment variable.'\n    )\n  } else {\n    logger.error(\n      'No mongo connection string. Set MONGODB_URI_LOCAL environment variable.'\n    )\n  }\n  process.exit(1)\n}\n"]}